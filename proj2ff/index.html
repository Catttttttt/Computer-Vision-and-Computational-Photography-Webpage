<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS 180 Fall 24 Project 2</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        h1, h2, h3 {
            color: #333;
        }
        h1 {
            margin-bottom: 10px;
        }
        h2 {
            margin-top: 30px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: #fff;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .reference-images, .example-images {
            margin-top: 20px;
        }
        pre {
            background: #eee;
            padding: 10px;
            overflow-x: auto;
        }
        img {
            display: block;
            margin: 10px 0;
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Fun with Filters and Frequencies</h1>
        <p>Author: Shujing Hu</p>

        <h2>Project Overview</h2>
        <p>This project involves implementing various image processing techniques using 2D convolutions and filters, focusing on gradient magnitude computation, unsharp masking, hybrid images, and multi-resolution blending.</p>

        <h2>Part 1: Fun with Filters</h2>
        <h3>1.1 Finite Difference Operator</h3>
        <p>I computed the partial derivatives in the x and y directions of the cameraman image using finite difference operators. By convolving the image with the operators D_x and D_y, I obtained the gradient magnitude image and then binarized it to create an edge image.</p>

        <div class="reference-images"></div>
            <img src="media/fdo.png">
            <pre>Finite Difference Operator Output</pre>
        </div>

        <h3>1.2 Derivative of Gaussian (DoG) Filter</h3>
        <p>I blurred the original image with a Gaussian filter and repeated the process to compare results with the finite difference operator. I created and visualized the DoG filters derived from the Gaussian filter convolved with D_x and D_y.</p>
        <p>The image appears smoother, with reduced noise artifacts compared to using just the difference operator.</p>

        <div class="reference-images"></div>
        <img src="media/dog.png">
        <pre>Derivative of Gaussian (DoG) Filter Output</pre>
        </div>
        

        <h2>Part 2: Fun with Frequencies!</h2>
        <h3>2.1 Image Sharpening</h3>
        <p>Using the unsharp masking technique, I sharpened a blurry image by subtracting its blurred version from the original. The results demonstrate the enhancement of high frequencies, leading to a clearer image.</p>
        <div class="reference-images">
            <img src="media/2.1.png">
            <pre>Original Blurry v.s. Sharpened Image (taj)</pre>
            <img src="media/2.1sample.png">
            <pre>Original Blurry v.s. Sharpened Image (Derek)</pre>
        </div>

        <h3>2.2 Hybrid Images</h3>
        <p>I created hybrid images by combining the high-frequency components of one image with the low-frequency components of another. The process was illustrated with Fourier analysis to show the log magnitude of the Fourier transforms of the input and hybrid images.</p>
        <div class="example-images">
            <img src="media/2.2hybrid.png">
            <img src="media/2.2guassian1.png">
            <pre>Hybrid Image Example 1</pre>
            <img src="media/2.2hybrid2.png">
            <img src="media/2.2guassian2.png">
            <img src="media/2.2fft.png">
            <pre>Hybrid Image Example 2</pre>
            <img src="media/2.2hybrid3.png">
            <img src="media/2.2guassian3.png">
            <pre>Hybrid Image Example 3</pre>

        </div>

        <h3>2.3 Gaussian and Laplacian Stacks</h3>
        <p>I calculated Gaussian and Laplacian stacks for the blended oraple.</p>
        <div class="reference-images">
            <img src="media/2.3gaussian.png">
            <img src="media/2.3laplacian.png">
            <pre> Gaussian and Laplacian stack for the Oraple</pre>
        </div>

        <h3>2.4 Multi-Resolution Blending</h3>
        <p>Using Gaussian and Laplacian stacks, I blended oraple and one more image with irregular mask using the multi-resolution blending technique. The results produced smooth transitions between the images.</p>
        <div class="reference-images"></div>
            <img src="media/2.4initmask.png">
            <img src="media/2.4gaussianmask.png">
            <img src="media/2.4laplacianapple.png">
            <img src="media/2.4laplacianorange.png">
            <pre> Gaussian stack for the mask and Laplacian stack for the apple and orange</pre>
            <img src="media/2.4blended.png">
            <pre> Oraple blended</pre>

            <h4>Personal sample, with irregular mask</h4>
            <img src="media/2.4stefea.png">
            <pre> Original pictures and the irregular mask</pre>
            <img src="media/2.4gaussianmaskstefea.png">
            <img src="media/2.4gaussianste.png">
            <img src="media/2.4gaussianeaz.png">
            <pre> Gaussian stacks for the mask and original pictures</pre>
            <img src="media/2.4blendedstefea.png">
            <pre> Pictures blended</pre>

            <h4>Personal sample, with regular mask</h4>
            <img src="media/2.41mask.png">
            <pre> Original pictures and the irregular mask</pre>
            <img src="media/2.41gaussianmask.png">
            <img src="media/2.41gaussianste.png">
            <img src="media/2.41gaussianeaz.png">
            <pre> Gaussian stacks for the mask and original pictures</pre>
            <img src="media/2.41blended.png">
            <pre> Pictures blended</pre>
        </div>


        <h2>Challenges and Problem Solving</h2>
        <p>Throughout the project, I faced challenges when aligning images. My IDE doesn't support calling and using alignment code directly. I also mention it in the README that the helper code needs to be ran first. </p>

        <h2>Conclusions</h2>
        <p>This project deepened my understanding of image processing techniques and the impact of different filtering methods on visual quality. It is really interesting to see the imgaes blended smoothly together with different masks.</p>
    </div>

</body>
